const pokemonRepository=function(){const t=[];let e="https://pokeapi.co/api/v2/pokemon/?limit=150",o=$("ul"),n=$("#modal-container");function a(t){pokemonRepository.loadDetails(t).then(function(){l(t)})}function i(e){"object"==typeof e&&t.push(e)}function l(t){$("#exampleModalLabel").text(t.name),$("#modalImage").attr("src",t.imageUrl),$("#modalHeight").text("They are "+t.height/10+" meters tall!"),$("#modalType").text("Types: "+t.types),$("#exampleModal").modal({keyboard:!1})}function s(){n.removeClass("is-visible")}return window.addEventListener("keydown",t=>{"Escape"===t.key&&n.hasClass("is-visible")&&s()}),n.on("click",t=>{t.target===n&&s()}),{getAll:function(){return t},showDetails:a,addListItem:function(t){let e=$("<li></li>");o.append(e);let n=$('<button type="button" class="btn-block btn-primary" data-target="modal" data-toggle="#exampleModal">'+t.name+"</button>");$(e).append(n),n.on("click",function(){a(t)})},loadList:function(){return $.ajax(e,{dataType:"json"}).then(function(t){$.each(t.results,function(t,e){i({name:e.name,detailsUrl:e.url})})}).catch(function(t){console.error(t)})},add:i,loadDetails:function(t){let e=t.detailsUrl;return $.ajax(e,{dataType:"json"}).then(function(e){t.imageUrl=e.sprites.front_default,t.height=e.height,t.types="",Object.values(e.types).forEach(function(e){t.types+=(0!==t.types.length?", ":"")+e.type.name})}).catch(function(t){console.error(t)})},showModal:l}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(t){pokemonRepository.addListItem(t)})});